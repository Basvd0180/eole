"use strict";(self.webpackChunkdocusaurus_tsx=self.webpackChunkdocusaurus_tsx||[]).push([[1459],{6564:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var t=s(4848),i=s(8453);const o={},r="Contributors",l={id:"contributing",title:"Contributors",description:"EOLE is a community developed project and we love developer contributions.",source:"@site/docs/contributing.md",sourceDirName:".",slug:"/contributing",permalink:"/eole/docs/contributing",draft:!1,unlisted:!1,editUrl:"https://github.com/eole-nlp/eole/tree/main/docs/docs/contributing.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Llama3",permalink:"/eole/docs/recipes/wmt22_with_llama3.1/"}},c={},d=[{value:"Guidelines",id:"guidelines",level:2},{value:"Docstrings",id:"docstrings",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"contributors",children:"Contributors"}),"\n",(0,t.jsx)(n.p,{children:"EOLE is a community developed project and we love developer contributions."}),"\n",(0,t.jsx)(n.h2,{id:"guidelines",children:"Guidelines"}),"\n",(0,t.jsx)(n.p,{children:"Before sending a PR, please do this checklist first:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Please run ",(0,t.jsx)(n.code,{children:"eole/tests/pull_request_check.sh"})," and fix any errors. When adding new functionality, also add tests to this script. Included checks:\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"black and flake8 check for coding style;"}),"\n",(0,t.jsx)(n.li,{children:"unittest;"}),"\n",(0,t.jsxs)(n.li,{children:["continuous integration tests listed in ",(0,t.jsx)(n.code,{children:".github/workflows/push.yml"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"When adding/modifying class constructor, please make the arguments as same naming style as its superclass in PyTorch."}),"\n",(0,t.jsx)(n.li,{children:"If your change is based on a paper, please include a clear comment and reference in the code (more on that below)."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"docstrings",children:"Docstrings"}),"\n",(0,t.jsxs)(n.p,{children:["Above all, try to follow the Google docstring format\n(",(0,t.jsx)(n.a,{href:"https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html",children:"Napoleon example"}),",\n",(0,t.jsx)(n.a,{href:"http://google.github.io/styleguide/pyguide.html",children:"Google styleguide"}),").\nThis makes it easy to include your contributions in the Sphinx documentation. And, do feel free\nto autodoc your contributions in the API ",(0,t.jsx)(n.code,{children:".rst"})," files in the ",(0,t.jsx)(n.code,{children:"docs/source"})," folder! If you do, check that\nyour additions look right."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd docs\n# install some dependencies if necessary:\npip install -r requirements.txt\nmake html\nfirefox build/html/main.html  # or your browser of choice\n"})}),"\n",(0,t.jsx)(n.p,{children:"Some particular advice:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Try to follow Python 3 ",(0,t.jsxs)(n.a,{href:"https://docs.python.org/3/library/typing.html",children:[(0,t.jsx)(n.code,{children:"typing"})," module"]})," conventions when documenting types."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Exception: use "or" instead of unions for more readability'}),"\n",(0,t.jsxs)(n.li,{children:['For external types, use the full "import name". Common abbreviations (e.g. ',(0,t.jsx)(n.code,{children:"np"}),") are acceptable.\nFor ",(0,t.jsx)(n.code,{children:"torch.Tensor"})," types, the ",(0,t.jsx)(n.code,{children:"torch."})," is optional."]}),"\n",(0,t.jsxs)(n.li,{children:["Please don't use tics like ",(0,t.jsx)(n.code,{children:"(`str`)"})," or rst directives like ",(0,t.jsx)(n.code,{children:"(:obj:`str`)"}),". Napoleon handles types\nvery well without additional help, so avoid the clutter."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/29221551/can-sphinx-napoleon-document-function-returning-multiple-arguments",children:"Google docstrings don't support multiple returns"}),".\nFor multiple returns, the following works well with Sphinx and is still very readable."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def foo(a, b):\n    """This is my docstring.\n\n    Args:\n        a (object): Something.\n        b (class): Another thing.\n\n    Returns:\n        (object, class):\n\n        * a: Something or rather with a long\n          description that spills over.\n        * b: And another thing.\n    """\n\n    return a, b\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["When citing a paper, avoid directly linking in the docstring! Add a Bibtex entry to ",(0,t.jsx)(n.code,{children:"docs/source/refs.bib"}),'.\nE.g., to cite "Attention Is All You Need", visit ',(0,t.jsx)(n.a,{href:"https://arxiv.org/abs/1706.03762",children:"arXiv"}),", choose the\n",(0,t.jsx)(n.a,{href:"https://dblp.uni-trier.de/rec/bibtex/journals/corr/VaswaniSPUJGKP17",children:"bibtext"})," link, search ",(0,t.jsx)(n.code,{children:"docs/source/refs.bib"}),"\nusing ",(0,t.jsx)(n.code,{children:"CTRL-F"})," for ",(0,t.jsx)(n.code,{children:"DBLP:journals/corr/VaswaniSPUJGKP17"}),", and if you do not find it then copy-paste the\ncitation into ",(0,t.jsx)(n.code,{children:"refs.bib"}),". Then, in your docstring, use ",(0,t.jsx)(n.code,{children:":cite:`DBLP:journals/corr/VaswaniSPUJGKP17` "}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"However, a link is better than nothing."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Please document tensor shapes. Prefer the format\n",(0,t.jsx)(n.code,{children:"``(a, b, c)``"}),". This style is easy to read, allows using ",(0,t.jsx)(n.code,{children:"x"})," for multplication, and is common\n(PyTorch uses a few variations on the parentheses format, AllenNLP uses exactly this format, Fairseq uses\nthe parentheses format with single ticks)."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Again, a different style is better than no shape documentation."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Please avoid unnecessary space characters, try to capitalize, and try to punctuate."}),"\n",(0,t.jsxs)(n.p,{children:["For multi-line docstrings, add a blank line after the closing ",(0,t.jsx)(n.code,{children:'"""'}),".\nDon't use a blank line before the closing quotes."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:'""" not this """'})," ",(0,t.jsx)(n.code,{children:'"""This."""'})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'"""\n    Not this.\n"""\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'"""This."""\n'})}),"\n",(0,t.jsx)(n.p,{children:"This note is the least important. Focus on content first, but remember that consistent docs look good."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Be sensible about the first line. Generally, one stand-alone summary line (per the Google guidelines) is good.\nSometimes, it's better to cut directly to the args or an extended description. It's always acceptable to have a\n\"trailing\" citation."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);